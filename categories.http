### Variables
@baseUrl = http://localhost:3010/api/v1
@adminToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4OGQzNzgxNWYwZGExOWRmYTlmMmI5ZiIsIm5hbWUiOiJWYWxlbnRpbkFkbWluIiwibGFzdG5hbWUiOiJSaWdvbmlBZG1pbiIsIndoYXRzYXBwIjoiMzU4NTAwOTg4NyIsImVtYWlsIjoiYWRtaW5AZ21haWwuY29tIiwicm9sZXMiOlt7Il9pZCI6IjY4OGQzM2NiMmUyZjkzM2QyNzYyN2QwNCIsIm5hbWUiOiJhZG1pbiIsInBlcm1pc3Npb25zIjpbImFkbWluX2dyYW50ZWQiXSwiY3JlYXRlZEF0IjoiMjAyNS0wOC0wMVQyMTozODoxOS43NTRaIiwidXBkYXRlZEF0IjoiMjAyNS0wOC0wMVQyMTozODoxOS43NTRaIn1dLCJhZ2UiOjI1LCJpYXQiOjE3NTQzNTMwMTMsImV4cCI6MTc1NDM2MzgxM30.xQzIXOBAWBp7OpDmGf9Uv14CQGLT30Pb-dvXTKrhisA
@categoryId = 674b3c3f41c6149cd597b683

###############################################################################
# ğŸ·ï¸  TESTING ENDPOINTS DE CATEGORÃAS
###############################################################################

### 1. ğŸ“‹ Obtener todas las categorÃ­as (PÃºblico)
GET {{baseUrl}}/categories
Content-Type: application/json

### 2. ğŸ“‹ Obtener categorÃ­as con filtros bÃ¡sicos
GET {{baseUrl}}/categories?page=1&limit=5&sortBy=name&sortOrder=asc
Content-Type: application/json

### 3. ğŸ” Buscar categorÃ­as por nombre
GET {{baseUrl}}/categories?search=semillas
Content-Type: application/json

### 4. ğŸ“Š Obtener categorÃ­as ordenadas por cantidad de productos
GET {{baseUrl}}/categories?sortBy=productCount&sortOrder=desc
Content-Type: application/json

### 5. ğŸ”„ Obtener categorÃ­as y actualizar contadores
GET {{baseUrl}}/categories?updateCounts=true
Content-Type: application/json

###############################################################################
# ğŸ“– OBTENER CATEGORÃA ESPECÃFICA
###############################################################################

### 6. ğŸ¯ Obtener categorÃ­a por ID (PÃºblico)
GET {{baseUrl}}/categories/{{categoryId}}
Content-Type: application/json

### 7. ğŸ›ï¸ Obtener categorÃ­a con productos incluidos
GET {{baseUrl}}/categories/{{categoryId}}?includeProducts=true
Content-Type: application/json

### 8. âŒ Test categorÃ­a inexistente
GET {{baseUrl}}/categories/507f1f77bcf86cd799439999
Content-Type: application/json

###############################################################################
# â• CREAR CATEGORÃAS (Requiere Admin)
###############################################################################

### 9. âœ… Crear categorÃ­a vÃ¡lida
POST {{baseUrl}}/categories
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "name": "Categoria de prueba",
  "description": "Categoria de prueba",
  "icon": "ğŸŒ±",
  "color": "from-green-400 to-green-600"
}

### 10. âœ… Crear categorÃ­a con valores por defecto
POST {{baseUrl}}/categories
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "name": "Fertilizantes OrgÃ¡nicos",
  "description": "Los mejores fertilizantes naturales para un cultivo sustentable"
}

### 11. âœ… Crear categorÃ­a con emoji y gradiente personalizado
POST {{baseUrl}}/categories
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "name": "Accesorios de Cultivo",
  "description": "Todo lo que necesitas para un cultivo exitoso",
  "icon": "ğŸ› ï¸",
  "color": "from-blue-500 to-purple-600"
}

### 12. âŒ Test crear sin autenticaciÃ³n
POST {{baseUrl}}/categories
Content-Type: application/json

{
  "name": "CategorÃ­a Sin Auth",
  "description": "Esta deberÃ­a fallar"
}

### 13. âŒ Test crear sin nombre (requerido)
POST {{baseUrl}}/categories
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "description": "CategorÃ­a sin nombre"
}

### 14. âŒ Test crear sin descripciÃ³n (requerida)
POST {{baseUrl}}/categories
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "name": "CategorÃ­a Sin DescripciÃ³n"
}

### 15. âŒ Test crear con nombre duplicado
POST {{baseUrl}}/categories
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "name": "Semillas Premium",
  "description": "Esta deberÃ­a fallar por nombre duplicado"
}

###############################################################################
# âœï¸ ACTUALIZAR CATEGORÃAS (Requiere Admin)
###############################################################################

### 16. âœ… Actualizar nombre y descripciÃ³n
PUT {{baseUrl}}/categories/{{categoryId}}
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "name": "Semillas Super Premium",
  "description": "Las mejores semillas del mercado mundial"
}

### 17. âœ… Actualizar solo icono y color
PUT {{baseUrl}}/categories/{{categoryId}}
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "icon": "â­",
  "color": "from-gold-400 to-yellow-600"
}

### 18. âœ… Actualizar descripciÃ³n Ãºnicamente
PUT {{baseUrl}}/categories/{{categoryId}}
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "description": "DescripciÃ³n actualizada para reflejar la nueva calidad premium"
}

### 19. âŒ Test actualizar sin autenticaciÃ³n
PUT {{baseUrl}}/categories/{{categoryId}}
Content-Type: application/json

{
  "name": "Sin Auth"
}

### 20. âŒ Test actualizar categorÃ­a inexistente
PUT {{baseUrl}}/categories/507f1f77bcf86cd799439999
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "name": "CategorÃ­a Inexistente"
}

### 21. âŒ Test actualizar con nombre duplicado
PUT {{baseUrl}}/categories/{{categoryId}}
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "name": "Fertilizantes OrgÃ¡nicos"
}

###############################################################################
# ğŸ—‘ï¸ ELIMINAR CATEGORÃAS (Requiere Admin)
###############################################################################

### 22. âŒ Test eliminar categorÃ­a con productos (deberÃ­a fallar)
DELETE {{baseUrl}}/categories/{{categoryId}}
Authorization: Bearer {{adminToken}}

### 23. âœ… Eliminar categorÃ­a con productos (forzado)
DELETE {{baseUrl}}/categories/{{categoryId}}?deleteProducts=true
Authorization: Bearer {{adminToken}}

### 24. âœ… Eliminar categorÃ­a vacÃ­a (sin productos)
DELETE {{baseUrl}}/categories/{{categoryId}}
Authorization: Bearer {{adminToken}}

### 25. âŒ Test eliminar sin autenticaciÃ³n
DELETE {{baseUrl}}/categories/{{categoryId}}

### 26. âŒ Test eliminar categorÃ­a inexistente
DELETE {{baseUrl}}/categories/507f1f77bcf86cd799439999
Authorization: Bearer {{adminToken}}

###############################################################################
# ğŸ”„ SINCRONIZACIÃ“N Y MANTENIMIENTO (Requiere Admin)
###############################################################################

### 27. ğŸ”„ Actualizar contadores de productos manualmente
PUT {{baseUrl}}/categories/update-counts
Authorization: Bearer {{adminToken}}
Content-Type: application/json

### 28. âŒ Test actualizar contadores sin autenticaciÃ³n
PUT {{baseUrl}}/categories/update-counts
Content-Type: application/json

###############################################################################
# ğŸ§ª TESTS DE VALIDACIÃ“N Y LÃMITES
###############################################################################

### 29. âŒ Test nombre muy largo (>100 caracteres)
POST {{baseUrl}}/categories
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "name": "Lorem ipsum dolor sit amet consectetur adipiscing elit sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad minim veniam quis nostrud exercitation",
  "description": "Nombre demasiado largo"
}

### 30. âŒ Test descripciÃ³n muy larga (>500 caracteres)
POST {{baseUrl}}/categories
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "name": "Test DescripciÃ³n Larga",
  "description": "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium."
}

### 31. âŒ Test icono muy largo (>10 caracteres)
POST {{baseUrl}}/categories
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "name": "Test Icono Largo",
  "description": "Test con icono demasiado largo",
  "icon": "ğŸŒ±ğŸŒ¿ğŸƒğŸŒ³ğŸŒ²ğŸŒ´ğŸŒµğŸŒºğŸŒ»ğŸŒ·ğŸŒ¹"
}

### 32. âœ… Test bÃºsqueda case-insensitive
GET {{baseUrl}}/categories?search=SEMILLAS
Content-Type: application/json

### 33. âœ… Test paginaciÃ³n lÃ­mite mÃ¡ximo
GET {{baseUrl}}/categories?limit=50
Content-Type: application/json

### 34. âŒ Test paginaciÃ³n lÃ­mite excedido
GET {{baseUrl}}/categories?limit=100
Content-Type: application/json

### 35. âœ… Test ordenamiento por diferentes campos
GET {{baseUrl}}/categories?sortBy=createdAt&sortOrder=desc
Content-Type: application/json

###############################################################################
# ğŸ“Š TESTS DE PERFORMANCE Y CARGA
###############################################################################

### 36. ğŸš€ Test carga masiva de categorÃ­as
GET {{baseUrl}}/categories?limit=50&page=1
Content-Type: application/json

### 37. ğŸ” Test bÃºsqueda compleja
GET {{baseUrl}}/categories?search=premium&sortBy=productCount&sortOrder=desc&page=1&limit=10
Content-Type: application/json

###############################################################################
# ğŸ¯ ESCENARIOS REALES DE USO
###############################################################################

### 38. ğŸ›’ Flujo: Obtener categorÃ­as para menÃº principal
GET {{baseUrl}}/categories?sortBy=productCount&sortOrder=desc&limit=8
Content-Type: application/json

### 39. ğŸ” Flujo: BÃºsqueda de usuario en tiempo real
GET {{baseUrl}}/categories?search=semi&limit=5
Content-Type: application/json

### 40. ğŸ“Š Flujo: Panel admin - categorÃ­as con mÃ¡s productos
GET {{baseUrl}}/categories?sortBy=productCount&sortOrder=desc&includeProducts=false
Content-Type: application/json

###############################################################################
# ğŸ“ NOTAS PARA TESTING:
# 
# 1. Cambiar @adminToken por un token vÃ¡lido de administrador
# 2. Cambiar @categoryId por un ID real de categorÃ­a existente
# 3. Los tests marcados con âŒ deben fallar (son tests negativos)
# 4. Los tests marcados con âœ… deben pasar (son tests positivos)
# 5. Ejecutar en orden para mejores resultados
# 6. Verificar que el servidor estÃ© corriendo en el puerto correcto
# 
# CÃ³digos de respuesta esperados:
# - 200: OperaciÃ³n exitosa
# - 201: CategorÃ­a creada
# - 400: Error de validaciÃ³n
# - 401: No autorizado
# - 404: No encontrado
# - 500: Error del servidor
###############################################################################